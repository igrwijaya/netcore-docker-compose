version: '2'
services:
  nginx-server:
    image: nginx:latest
    container_name: nginx-server
    volumes:
      - "./www:/usr/share/nginx/html:ro"
      - "./nginx-no-ssl.conf:/etc/nginx/nginx.conf:ro"
      - "./certs:/usr/share/certs:ro"
    ports:
      - "80:80"
    networks:
      - AgritoNetwork

  agrito-prod:
    image: repo.treescale.com/igrwijaya/agrito-webapp:latest
    container_name: agrito-prod
    expose:
      - "2045"
    ports:
      - "2045:2045"
    networks:
      - AgritoNetwork

  agrito-dev:
    image: repo.treescale.com/igrwijaya/agrito-webapp:dev
    container_name: agrito-dev
    expose:
      - "1994"
    ports:
      - "1994:1994"
    networks:
      - AgritoNetwork

  agrito-hotfix:
    image: repo.treescale.com/igrwijaya/agrito-webapp:hotfix
    container_name: agrito-hotfix
    expose:
      - "1945"
    ports:
      - "1945:1945"
    networks:
      - AgritoNetwork

networks:
  AgritoNetwork:
